<!DOCTYPE html>
<html>
<head>
<title>Something Given</title>
<!-- css file-->
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<!--Swiper-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/css/swiper.min.css">
<!-- paper js -->
<script type="text/javascript" src="paper-full.min.js"></script>
<!-- orientation script -->
<script type="text/javascript" src="orientation.js"></script>

<!--bubble interaction
<script type="text/paperscript" src="bubbles.js" canvas="myCanvas2"></script>-->


</head>
<body>
  <!-- Slider main container -->
  <div class="swiper-container">
  <div class="swiper-wrapper">
    <div id="0" class="swiper-slide">
    </div>
    <div id="1" class="swiper-slide">
      <canvas id="myCanvas3"></canvas>
    </div>
    <div id="2" class="swiper-slide">
      <canvas id="myCanvas2"></canvas>
    </div>
    <div id="3" class="swiper-slide swiper-no-swiping">
      <p> </p>
    </div>
    <div id="4" class="swiper-slide">

    </div>
    <div class="swiper-slide">Slide 5</div>
    <div class="swiper-slide">Slide 6</div>
    <div class="swiper-slide">Slide 7</div>
    <div class="swiper-slide">Slide 8</div>
    <div class="swiper-slide">Slide 9</div>
    <div class="swiper-slide">Slide 10</div>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/js/swiper.min.js"></script>
<script type="text/javascript" src="orientation.js"></script>
<script>
//initialise globals
window.onload;
window.globals = {
  gx:0, gy:0, gvx:0, gvy:0,
};

  //initialise swiper
  var swiper = new Swiper('.swiper-container');
  // Get event data
  swiper.on( 'slideChange', function() {
    if (swiper.realIndex == 1) {

  window.addEventListener('deviceorientation', handleOrientation);
  window.addEventListener("devicemotion", handleMotion, true);
    }
  });
</script>

<!-- Line animation script-->
<script type="text/javascript" src="animations.js"></script>
<script type="text/paperscript" canvas="myCanvas3">
var mousePoint = view.center;
var amount = 25;
var colors = ['red', 'white', 'blue', 'white'];

for (var i = 0; i < amount; i++) {
  var rect = new Rectangle([0, 0], [25, 25]);
  rect.center = mousePoint;
  var path = new Path.Rectangle(rect, 6);
  path.fillColor = colors[i % 4];
  var scale = (1 - i / amount) * 20;
  path.scale(scale);
}

function onMouseMove(event) {
  mousePoint = event.point;
}

var children = project.activeLayer.children;
function onFrame(event) {
  for (var i = 0, l = children.length; i < l; i++) {
    var item = children[i];
    var delta = (mousePoint - item.position) / (i + 5);
    item.rotate(Math.sin((event.count + i) / 10) * 7);
    if (delta.length > 0.1)
      item.position += delta;
  }
}

</script>
</body>
</html>
